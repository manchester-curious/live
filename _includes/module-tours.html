
<div id="tours-placeholder">
    Loading toursâ€¦
</div>
{% raw %}
<script id="tour-template" type="text/x-handlebars-template">
    {{#each tours}}
    <div class="module-outer">
        <div class="module-inner" data-equalizer-watch>
            <div class="image">
                <a href="tour-details.html">
                    <img src="http://placehold.it/380x220" alt="">
                </a>  
            </div>
            <div class="content">
                {{#if featured_tour_text}}<div class="label">{{featured_tour_text}}</div>{{/if}}
                <ul>
                    <li><a href="tour-details.html">{{ title.rendered }}</a></li>
                    <li><small>{{ capitalise event_type }}</small></li>
                </ul>
            </div>
        </div>
    </div>
    {{/each}}
</script>
{% endraw %}
<script type="application/javascript">
    getAllTours().then(function(tours) {
        var frontPageTours = _.filter(tours, {featured_tour: "1"});
        var template = Handlebars.compile(document.getElementById('tour-template').innerHTML)
        document.getElementById('tours-placeholder').innerHTML = template({'tours': frontPageTours});
    });
</script>